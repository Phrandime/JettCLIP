几乎搬运自 https://github.com/beichenzbc/Long-CLIP/tree/main

`eval/`, `SDXL`, `open_clip_long` 暂时用不上，用到的时候再复制粘贴过来

`train/train.py` 里面 `setup_distributed()` 被注释掉的是原来的，用于分布式训练，为了取消分布式训练，把 `CLIP_Clean_Train` 类、`train()` 函数、`model_longclip.py` 的 453+ 行都改了，使得不用 `torch.distributed` 。除此只改动 batch_size，去掉 `train_epoch()` 里 `images = images.cuda()` 的注释，`sharegpt_4v.py` 里面数据集路径，似乎就没有了。

所以建议用 https://github.com/beichenzbc/Long-CLIP/tree/main 里面的源代码跑！

先睡了，到时候当场讨论。